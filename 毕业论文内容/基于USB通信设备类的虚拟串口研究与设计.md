一下内容摘自[基于USB通信设备类的虚拟串口研究与设计](http://xueshu.baidu.com/s?wd=paperuri%3A%289ffb3cb9136fb7c87979b108bc11fa0e%29&filter=sc_long_sign&tn=SE_xueshusource_2kduw22v&sc_vurl=http%3A%2F%2Fwenku.baidu.com%2Fview%2Fb625f3ca0c22590102029d2b.html&ie=utf-8&sc_us=4827041105237611123)

##												摘要

​	USB接口由于支持热插拔和标准统一等特点得到了广泛的应用，越来越多的电脑设备开始采用USB接口进行数据的传输，而如何在不改变现有应用软件的情况下，将设备一直到USB接口成为了人们研究的热点。

​	论文以USB通信设备类中的抽象控制模型为基础，研究了通信设备类以及实现虚拟设备的原理，设计并实现了基于通信设备累的虚拟串口驱动程序。





## 第一章 绪论

​	本章首先介绍了在VxWorks进行USB转串口的研究背景及现实意义。然后在根据技术的实现方式分类介绍当前国内外对USB通信设备类以及虚拟串口的研究状况，最后介绍了项目的设计与实现的安排。具体分为三小节来组织。

### 1.1 论文的研究背景以及意义

​	USB[^1]  \(通用串行总线\)是用于电脑和外设进行数据交换的一种通用总线或接口,这种标准接口由于具有数据传输快、支持热插拔、通用性强、易于扩展、总线可给外设供电等特点，得到了广泛的应用。并且，这种标准的串口接口不仅仅在当前所有的接口当中都有使用，而且在嵌入式系统尤其是在移动设备中的应用也越来越广泛[^2]，在各种MP3/4、数码相机，手机和PSP等设备当中，USB接口也几乎成为了唯一的外部接口。信息产业部正式公布的“移动通信手持机充电器及接口技术要求和测试方法”通信行业标准明确了手机接口方面将参照USB的接口规范[^3]，目前市场上的手机多采用USB接口进行数据传输，USB接口已成为手机与数据传输的的“实际”标准。

​	然而越来越多的设备开始使用USB接口，对USB协议也是一个很大的挑战。一般在设计外设时，传输数据的接口与通讯协议是一一对应的，而由于接口的不同，不同外设使用的协议也不同。比如网线为RJ45接口，可传输基于TCP/IP等协议的数据；串口为RS232接口，可传输的数据遵循串口协议；打印机为并行接口，可传输符合打印机通信协议的数据。如果在不改变传输协议的情况下，将数据接口换为USB接口，必然不能正确的传输数据。而本文研究的USB通信设备类很好的解决了这个问题[^4]。

​	USB 通讯设备类协议CDC (Communication Devices Class Specification) 的技术可以将USB接口虚拟成不同的通讯设备接口。自从USB通信设备类规格发布以来，国外的软硬件公司都使用USB 通信设备类在USB上实现一些通讯接口的功能，如串口、ISDN[^5]、ATM[^6]和以太网[^7]等。比如，Microsoft 在WINDOWS XP版本上内置了基于通信设备类的RNDIS驱动，使得在WINXP下可以无缝的连接基于RNDIS的USB以太网接口设备。Linux在2.6以后的版本就缺省支持基于通信设备类的以太网接口(usbnet)与串口。本文研究了USB通信设备类，并给出了符合通信设备类中抽象控制模型规范的虚拟串口驱动程序的设计和实现。



### 1.2 国内外研究现状

​	USB和串口之间的转换实现，有硬件实现和软件实现两种。硬件实现一般需要设计专门的控制芯片。设备控制芯片分为通用设备控制器和专用设备控制器，通用设备控制器定位于某几类USB产品的编程应用；专用设备控制器，定位于某一个USB产品的应用。

​	国内外有很多商业上成熟的此类接口转换器，其重点都是放在虚拟串口设备的设计上，一个好的转接器需要设计一个能够列举出虚拟串口的驱动程序，在这种情况下，PC端的应用软件依然是针对RS-232串行端口进行编程的，外设也是以RS-232为数据通信通道，但是从PC到外设之间的物理连接却是使用的USB总线，其上的数据通信也是USB数据格式的。采用这种方式的好处在于:一方面可以保护原有的软件开发投入，并使得已有的针对RS-232外设的应用软件可以不加修改，便可以继续使用；另一方面就是USB总线的高传输速率和即插即用的特性得到了充分的利用。虚拟串口的用途最初都是用于串口转网络通信接口，也就是把对网口的操作映射为对串口的操作。由于原有的平台软件是哦通过电脑的串口收发数据，为了使得平台的软件不用改变工作方式，需要在电脑平台上安装虚拟串口驱动，通过虚拟串口驱动可以将硬件转换器从网络上传送来的数据重定向到一个虚拟串口上。这样，平台软件通过虚拟串口进行数据收发。

​	USB和串口之间的转换，还有一种实现是软件实现。这里的软件实现主要是指设计USB转串口的驱动程序。在USB中CDC子类成为规范之前，USB转串口驱动程序的实现各种各样，且基于特定的设备，通用性较差。USB中CDC子类抽象控制模型规范了虚拟串口实现的框架，增强了虚拟串口驱动程序的通用性。



### 1.3 论文的主要内容和组织结构

#### 1.3.1 研究目标

​	 





[^1]: Universal Serial Bus Specification,Revision 2.0. Compaq,Hewlett-Packard,Intel,2000
[^2]: 
[^3]: 
[^4]: 
[^5]: 
[^6]: 

 