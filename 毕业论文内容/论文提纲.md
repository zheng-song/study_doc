[TOC]

#    基于VxWorks的日志调试通道的设计与实现提纲


## 					第一章：绪论

​	本章首先介绍了在VxWorks进行USB转串口的研究背景及现实意义。然后在根据技术的实现方式分类介绍当前国内外对USB通信设备类以及虚拟串口的研究状况，最后介绍了项目的设计与实现的安排。具体分为三小节来组织：

- 第一节：课题的背景以及意义。

  1. 分析嵌入式实时操作系统VxWorks的特点和其市场定位。
  2. USB接口和串口的特点及使用场景。
  3. 提出为什么要在VxWorks这个操作系统上实现USB口转串口，并给出本课题的实际来源和市场需求。

- 第二节：国内外概况。

  1. 介绍嵌入式实时操作系统VxWorks的主流使用场景，和其他通用操作系统相比有什么区别。
  2. USB转串口的实现方式，目前在通用操作系统如Windows、Linux上USB口转串口接口的使用情况。目前在VxWorks上USB转串口的使用情况。

- 第三节：论文的主要内容和组织结构，
  1. 研究目标：在嵌入式实时操作系统VxWorks上实现一个满足特定要求的、规范的、高速的、实用的USB转串口驱动程序。

  2. 难点以及主要的工作内容：

     2.1 阅读WindRiver公司提供的驱动开发手册，查阅VxWorks驱动开发的相关的中英文书籍，深入了解VxWorks的内部运行机制，理解驱动程序的原理，学习驱动开发的手段和步骤，同时熟悉WindRiver公司提供的开发工具。

     2.2 分析并试用现有的linux下的USB转串口驱动程序，对其中的通信设备类以及虚拟串口的实现技术进行研究。

     2.3 研究设计实现一个符合通信设备类中的抽象控制模型的虚拟串口驱动程序，并将其应用于项目当中。

  3. 论文组织结构：首先介绍国内外的现有虚拟串口实现技术的研究现状和通用操作系统上实现虚拟串口的方法，然后分析VxWorks上的驱动程序的层次结构。基于VxWorks上的驱动程序的开发的理论知识，设计并完成USB转串口驱动的编写，完成驱动的测试，最后是VxWorks上的应用层的封装和接收端的设计。



## 第二章 实时操作系统VxWorks

​	本章节主要介绍实时操作系统VxWorks的相关应用背景知识，使得大家对其性能有一个比较感性的认识。然后介绍了该操作系统的内核组成以及运行原理，使得大家对其整体的框架有一个更深入的了解，因为驱动的开发需要对操作系统有足够的细致的理解。最后介绍了在VxWorks上USB协议栈的实现情况，为我们的USB口转串口驱动的实现做原理上的铺垫。

- 第一节：概述
  1. 实时操作系统的概念
  2. VxWorks简介
  3. 操作系统的主要功能
  4. 操作系统的基本结构

- 第二节：微内核wind

  ​	主要介绍VxWoks的核心的主要特点，包括高效的任务管理(提供无限数目的多任务，具有256个优先级，灵活的调度机制)；方便的任务间通信(提供多种信号量，网络通信以及共享内存等)；高度的可裁剪性(内核最小可以达到8K)。

- 第三节：VxWorks开发环境

  ​	主要介绍WindRiver公司为VxWorks提供的开发工具Tornado的核心组成部分、性能特点、使用方式等。

- 第四节：VxWorks上USB协议栈的实现


  ​	主要介绍USB协议规定的USB的体系结构和框架，数据传输机制、传输类型等。然后介绍在VxWorks是如何实现USB协议栈的，分为哪几层来实现，以及我们重点介绍我们本次项目所需要接触的层次。




## 第三章：驱动程序开发

​	本章主要描述在VxWorks下驱动程序开发的相关知识，以及在VxWorks下实现USB转串口驱动程序的实现过程。

- 第一节：设备驱动概述
  1. 设备驱动的概念
  2. 设备驱动的功能以及组成部分
  3. 驱动程序管理表
  4. 驱动程序管理步骤
- 第二节：USB转串口设备驱动程序开发
  1. 需求分析，实现方法
  2. CP2102芯片的相关知识，包括芯片的硬件电路的结构以及实现USB转串口的硬件实现方法。
  3. 一个设备的情况下USB口转串口的实现方法。
  4. 多个设备的情况下USB口转串口的实现方法。



## 第四章 应用层程序接口封装

- 第一节：task模式介绍和task模式下实现接口封装以及输入输出重定向的方法
  1. 介绍VxWorks的task模式的特点
  2. task模式下的接口封装以及输入输出重定向方法


- 第二节：RTP模式介绍和RTP模式下实现接口封装以及输入输出重定向的方法
  1. VxWorks的RTP模式的特点
  2. RTP模式下的接口封装以及输入输出重定向方法。





## 第五章 PC机接收及管理程序的设计

​	本章主要介绍Qt接收和管理程序的设计。

- 第一节：串口接收模块的设计
- 第二节：日志显示界面的模块的设计
- 第三节：日志管理模块的设计




## 第六章 驱动程序的功能测试

​	本章的主要功能是完成整个程序的功能测试，包括在VxWorks下进行单独读测试、单独写测试，同时读写测试，验证整个程序的稳定性。

- 第一节：设备是否被添加到系统的管理表。
- 第二节：单独写测试，单独读功能测试。
- 第三节：同时读写测试。
- 第四节：task模式以及RTP模式下应用程序接口以及重定向功能测试。


测试的内容包括数据出错的概率，程序是否能够稳定运行等。



## 第七章 总结与展望





## 参考文献