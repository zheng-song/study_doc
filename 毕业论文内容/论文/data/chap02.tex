\chapter{实时操作系统VxWorks}

\section{概述}

\subsection{实时操作系统}
实时操作系统(Real Time Operation System，简称RTOS)是整个实时系统的核心。POSIX1003.1标准为RTOS下了一个简单的定义：RTOS是能够在有限的响应时间内为应用提供所要求级别服务的操作系统\cite{Renard20081003}。当外界事件或者是数据产生时，RTOS需要快速的进行处理，并且处理的结果又能够在规定的时间之内来控制生产过程或者对处理系统做出快速的响应，调度一切可利用的资源来完成实时任务。实时系统按照实时的效果可以分为软实时和硬实时，硬实时要求在规定的时间内必须完成操作，这是通过操作的在设计的时候就得到保证的；软实时只需要按照任务的优先级，尽可能快的完成任务即可。

一个实时操作系统的特征通常包括以下几点：
\begin{itemize}
\item \textbf{高精度计时系统} 

	计时精度是影响实时性的一个重要因素，在实时系统当中，经常需要精确确定实时地操作某个设备或执行某个任务，或精确的计算一个时间函数。这些不仅仅依赖于一些硬件提供的时钟精度，也依赖于实时操作系统的高精度计时功能。
\item \textbf{多级中断机制}

	中断是实时操作系统当中的一个关键设施，是用于通知系统发生外部事件的常用机制。一个实时操作系统通常需要处理多种外部信息或事件，但处理的紧迫程度有轻重缓急之分。有的必须立即作出反应，有的则可以延后处理。因此，需要建立多级中断嵌套处理机制，以确保对紧迫程度较高的实时事件进行及时响应和处理。
\item \textbf{实时调度机制}\linebreak 实时操作系统不仅要及时响应实时事件中断，同时也要及时调度运行实时任务。但是，处理机调度并不能随心所欲的进行，因为涉及到两个进程之间的切换，只能在确保“安全切换”的时间点上进行，实时调度机制包括两个方面，一是在调度策略和算法上保证优先调度实时任务；二是建立更多“安全切换”时间点，保证及时调度实时任务。
\end{itemize}

	内核作为操作系统的核心，负责控制这计算机上的所有硬件和软件资源，在必要的时候给应用程序分配硬件资源，并执行相应的操作命令。内核的主要功能为以下四个：
\begin{itemize}
\item 系统内存管理
\item 软件程序管理
\item 硬件设备管理
\item 文件和网络系统管理
\end{itemize}

本次所需完成的调试通道正是基于一个目前业界有名的实时操作系统VxWorks。

\subsection{VxWorks简介}
	VxWorks操作系统是美国Wind River System公司于1983年推出的一个运行在目标机上的高性能、可裁剪的实时操作系统(RTOS)，该系统专门为嵌入式实时系统领域而设计开发，其具有良好的持续发展能力、高性能的内核以及友好的用户开发环境，为开发人员提供了高效的实时多任务调度、中断管理、实时的系统资源以及实时的任务间通信。并且拥有多达1800个功能强大的应用程序接口\cite{•}。

\section{微内核wind}

\subsection{wind的多任务机制}

\subsection{wind的任务调度}

\subsection{wind线程同步}

\section{集成开发环境Tornado}
\subsection{tadj}

\section{VxWorsks上的USB协议栈}
\subsection{USB协议}
\subsection{VxWorks上的USB驱动程序结构}

